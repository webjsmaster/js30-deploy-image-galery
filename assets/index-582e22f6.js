var m=Object.defineProperty;var u=(s,e,t)=>e in s?m(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>(u(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();class a{constructor(e){this.element=null,this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setClasses(e.classNames),this.setTextContent(e.textContent),this.setCallback(e.callback),this.setAttribute(e.attribute)}getElement(){return this.element}setClasses(e){e.forEach(t=>this.element.classList.add(t))}setTextContent(e){this.element.textContent=e}setCallback(e){typeof e=="function"&&this.element.addEventListener("click",t=>e(t))}setAttribute(e){e&&e.forEach(t=>this.element.setAttribute(t.id,t.value))}}class i{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const t={tag:e.tag,classNames:e.classNames,textContent:e.textContent,callback:e.callback,attribute:e.attribute};return new a(t)}}const p=""+new URL("rs_school-f5e70645.svg",import.meta.url).href;class d extends i{constructor(){const e={tag:"div",classNames:["footer__school"]};super(e),this.configureView()}configureView(){const e={tag:"a",classNames:["footer__link"],attribute:[{id:"href",value:"https://rs.school/"},{id:"target",value:"_blank"}]},t={tag:"img",classNames:["footer__img"],attribute:[{id:"src",value:`${p}`},{id:"fill",value:"red"}]},o=new a(e).getElement();o.append(new a(t).getElement()),this.elementCreator.getElement().append(o)}}const g=""+new URL("github-2d49405e.svg",import.meta.url).href;class h extends i{constructor(){const e={tag:"div",classNames:["footer__profile"]};super(e),this.configureView()}configureView(){const e={tag:"a",classNames:["footer__profile-link"],attribute:[{id:"href",value:"https://github.com/webjsmaster"},{id:"target",value:"_blank"}]},t={tag:"img",classNames:["footer__img"],attribute:[{id:"src",value:g},{id:"fill",value:"red"}]},o=new a(e).getElement();o.append(new a(t).getElement()),this.elementCreator.getElement().append(o)}}class f extends i{constructor(){const e={tag:"div",classNames:["footer__container"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new d().getHtmlElement(),new h().getHtmlElement())}}class w extends i{constructor(){const e={tag:"footer",classNames:["footer"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new f().getHtmlElement())}}class E extends i{constructor(){const e={tag:"input",classNames:["header__input"]};super(e),this.configureView()}configureView(){const e={tag:"button",classNames:["input__close-btn"],textContent:"X",callback:()=>this.handlerCloseBtn()},t=new a(e).getElement();document.addEventListener("DOMContentLoaded",()=>{this.input=document.querySelector(".header__input"),this.input.focus(),this.input.parentNode.append(t)})}handlerCloseBtn(){console.log("[32] ðŸŒ»: CLOSE")}}class _ extends i{constructor(){const e={tag:"header",classNames:["header"]};super(e),this.configureView()}configureView(){const e=this.elementCreator.getElement(),t=new a({tag:"div",classNames:["header__container"]}).getElement();e.append(t),t.append(new E().getHtmlElement())}}class b{constructor(){l(this,"_baseUrl","https://api.unsplash.com/photos/");l(this,"_accessKey","zToxI9Bnf6yAmtUjD8Y9G30_1ngYFiggfBxSOXFekkk")}async getAllPhotos(e){return await fetch(`${this._baseUrl}?client_id=${this._accessKey}`+(e?`&per_page=${e}`:"")).then(t=>t.json()).then(t=>t)}}class C extends i{constructor(){const e={tag:"div",classNames:["loader"]};super(e),this.configureView()}configureView(){const e=this.elementCreator.getElement();e.textContent="PRELOADER ======>>> !!!!"}}class v extends i{constructor(){super({tag:"main",classNames:["main"]});l(this,"_isLoading",!1);this.api=new b,this.configureView()}async configureView(){const t=this.elementCreator.getElement();this.container=new a({tag:"div",classNames:["main__container"]}).getElement(),t.append(this.container),this._isLoading=!0,this.renderView(this.container,[]);const o=await this.api.getAllPhotos();this._isLoading=!1,this.renderView(this.container,o)}renderView(t,o){t.replaceChildren(),this._isLoading?t.append(new C().getHtmlElement()):o.forEach(n=>{const r={tag:"img",classNames:["img"],attribute:[{id:"src",value:n.urls.regular},{id:"onload",value:"imgLoaded(this)"}]},c=new a({tag:"div",classNames:["main__image"]}).getElement();c.append(new a(r).getElement()),t.append(c)})}}class N extends i{constructor(){const e={tag:"div",classNames:["wrapper"]};super(e),this.configureView()}configureView(){this.elementCreator.getElement().append(new _().getHtmlElement(),new v().getHtmlElement(),new w().getHtmlElement())}}class V{constructor(){this.body=document.querySelector("#app"),this.createHtmlElement()}createHtmlElement(){const e=new N;this.body.append(e.getHtmlElement())}}new V;
